<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: FasterCSV::Table</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/faster_csv_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/faster_csv.rb">lib/faster_csv.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-%3C%3C">#<<</a></li>
					
					<li><a href="#method-i-%3D%3D">#==</a></li>
					
					<li><a href="#method-i-%5B%5D">#[]</a></li>
					
					<li><a href="#method-i-%5B%5D%3D">#[]=</a></li>
					
					<li><a href="#method-i-by_col">#by_col</a></li>
					
					<li><a href="#method-i-by_col%21">#by_col!</a></li>
					
					<li><a href="#method-i-by_col_or_row">#by_col_or_row</a></li>
					
					<li><a href="#method-i-by_col_or_row%21">#by_col_or_row!</a></li>
					
					<li><a href="#method-i-by_row">#by_row</a></li>
					
					<li><a href="#method-i-by_row%21">#by_row!</a></li>
					
					<li><a href="#method-i-delete">#delete</a></li>
					
					<li><a href="#method-i-delete_if">#delete_if</a></li>
					
					<li><a href="#method-i-each">#each</a></li>
					
					<li><a href="#method-i-headers">#headers</a></li>
					
					<li><a href="#method-i-inspect">#inspect</a></li>
					
					<li><a href="#method-i-push">#push</a></li>
					
					<li><a href="#method-i-to_a">#to_a</a></li>
					
					<li><a href="#method-i-to_csv">#to_csv</a></li>
					
					<li><a href="#method-i-to_s">#to_s</a></li>
					
					<li><a href="#method-i-values_at">#values_at</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><span class="include">Enumerable</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../AUTHORS.html">AUTHORS</a></li>
				
					<li class="file"><a href="../CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="../COPYING.html">COPYING</a></li>
				
					<li class="file"><a href="../INSTALL.html">INSTALL</a></li>
				
					<li class="file"><a href="../LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="../README.html">README</a></li>
				
					<li class="file"><a href="../TODO.html">TODO</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../FasterCSV.html">FasterCSV</a></li>
				
					<li><a href="../FasterCSV/MalformedCSVError.html">FasterCSV::MalformedCSVError</a></li>
				
					<li><a href="../FasterCSV/Row.html">FasterCSV::Row</a></li>
				
					<li><a href="../FasterCSV/Table.html">FasterCSV::Table</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">FasterCSV::Table</h1>

		<div id="description">
			<p>
A <a href="Table.html">FasterCSV::Table</a> is a two-dimensional data
structure for representing CSV documents.  Tables allow you to work with
the data by row or column,  manipulate the data, and even convert the
results back to CSV, if needed.
</p>
<p>
All tables returned by <a href="../FasterCSV.html">FasterCSV</a> will be
constructed from this class, if header row processing is activated.
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="mode-attribute-method" class="method-detail">
				<a name="mode"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">mode</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p>
The current access mode for indexing and iteration.
</p>
				
				</div>
			</div>
			
			<div id="table-attribute-method" class="method-detail">
				<a name="table"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">table</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p>
Internal data format used to compare equality.
</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(array_of_rows)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Construct a new <a href="Table.html">FasterCSV::Table</a> from
<tt>array_of_rows</tt>, which are expected to be <a
href="Row.html">FasterCSV::Row</a> objects.  All rows are assumed to have
the same  headers.
</p>
<p>
A <a href="Table.html">FasterCSV::Table</a> object supports the following
Array methods through delegation:
</p>
<ul>
<li><p>
empty?()
</p>
</li>
<li><p>
length()
</p>
</li>
<li><p>
size()
</p>
</li>
</ul>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 426</span>
426:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">array_of_rows</span>)
427:         <span class="ruby-ivar">@table</span> = <span class="ruby-identifier">array_of_rows</span>
428:         <span class="ruby-ivar">@mode</span>  = <span class="ruby-value">:col_or_row</span>
429:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%3C%3C"></a>

				<div class="method-heading">
				
					<span class="method-name">&lt;&lt;</span><span
						class="method-args">(row_or_array)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Adds a new row to the bottom end of this table.  You can provide an Array,
which will be converted to a <a href="Row.html">FasterCSV::Row</a>
(inheriting the table&#8217;s headers()), or a <a
href="Row.html">FasterCSV::Row</a>.
</p>
<p>
This method returns the table for chaining.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 624</span>
624:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">row_or_array</span>)
625:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row_or_array</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment cmt"># append Array</span>
626:           <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">row_or_array</span>)
627:         <span class="ruby-keyword kw">else</span>                         <span class="ruby-comment cmt"># append Row</span>
628:           <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row_or_array</span>
629:         <span class="ruby-keyword kw">end</span>
630: 
631:         <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
632:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%3D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">==</span><span
						class="method-args">(other)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns <tt>true</tt> if all rows of this table ==() <tt>other</tt>&#8217;s
rows.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 703</span>
703:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
704:         <span class="ruby-ivar">@table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">table</span>
705:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%5B%5D"></a>

				<div class="method-heading">
				
					<span class="method-name">[]</span><span
						class="method-args">(index_or_header)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
In the default mixed mode, this method returns rows for index access and
columns for header access.  You can force the index association by first
calling <a href="Table.html#method-i-by_col">by_col</a>!() or <a
href="Table.html#method-i-by_row">by_row</a>!().
</p>
<p>
Columns are returned as an Array of values.  Altering that Array has no
effect on the table.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 540</span>
540:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">index_or_header</span>)
541:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
542:            (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
543:           <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>]
544:         <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by header</span>
545:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] }
546:         <span class="ruby-keyword kw">end</span>
547:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%5B%5D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">[]=</span><span
						class="method-args">(index_or_header, value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
In the default mixed mode, this method assigns rows for index access and
columns for header access.  You can force the index association by first
calling <a href="Table.html#method-i-by_col">by_col</a>!() or <a
href="Table.html#method-i-by_row">by_row</a>!().
</p>
<p>
Rows may be set to an Array of values (which will inherit the table&#8217;s
headers()) or a <a href="Row.html">FasterCSV::Row</a>.
</p>
<p>
Columns may be set to a single value, which is copied to each row of the 
column, or an Array of values.  Arrays of values are assigned to rows top
to bottom in row major order.  Excess values are ignored and if the Array
does not have a value for each row the extra rows will receive a
<tt>nil</tt>.
</p>
<p>
Assigning to an existing column or row clobbers the data.  Assigning to new
columns creates them at the right end of the table.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 565</span>
565:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">index_or_header</span>, <span class="ruby-identifier">value</span>)
566:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
567:            (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
568:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
569:             <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">value</span>)
570:           <span class="ruby-keyword kw">else</span>
571:             <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
572:           <span class="ruby-keyword kw">end</span>
573:         <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># set column</span>
574:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment cmt"># multiple values</span>
575:             <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
576:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
577:                 <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
578:               <span class="ruby-keyword kw">else</span>
579:                 <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>[<span class="ruby-identifier">i</span>]
580:               <span class="ruby-keyword kw">end</span>
581:             <span class="ruby-keyword kw">end</span>
582:           <span class="ruby-keyword kw">else</span>                  <span class="ruby-comment cmt"># repeated value</span>
583:             <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
584:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
585:                 <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
586:               <span class="ruby-keyword kw">else</span>
587:                 <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
588:               <span class="ruby-keyword kw">end</span>
589:             <span class="ruby-keyword kw">end</span>
590:           <span class="ruby-keyword kw">end</span>
591:         <span class="ruby-keyword kw">end</span>
592:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="by-col-method" class="method-detail ">
				<a name="method-i-by_col"></a>

				<div class="method-heading">
				
					<span class="method-name">by_col</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a duplicate table object, in column mode.  This is handy for 
chaining in a single call without changing the table mode, but be aware 
that this method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining.  Don&#8217;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>
					

					
					<div class="method-source-code"
						id="by-col-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 452</span>
452:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col</span>
453:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col!</span>
454:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="by-col--method" class="method-detail ">
				<a name="method-i-by_col%21"></a>

				<div class="method-heading">
				
					<span class="method-name">by_col!</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Switches the mode of this table to column mode.  All calls to indexing and
iteration methods will work with columns until the mode is changed again.
</p>
<p>
This method returns the table and is safe to chain.
</p>
					

					
					<div class="method-source-code"
						id="by-col--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 462</span>
462:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col!</span>
463:         <span class="ruby-ivar">@mode</span> = <span class="ruby-value">:col</span>
464: 
465:         <span class="ruby-keyword kw">self</span>
466:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="by-col-or-row-method" class="method-detail ">
				<a name="method-i-by_col_or_row"></a>

				<div class="method-heading">
				
					<span class="method-name">by_col_or_row</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a duplicate table object, in mixed mode.  This is handy for 
chaining in a single call without changing the table mode, but be aware 
that this method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining.  Don&#8217;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>
					

					
					<div class="method-source-code"
						id="by-col-or-row-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 477</span>
477:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col_or_row</span>
478:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col_or_row!</span>
479:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="by-col-or-row--method" class="method-detail ">
				<a name="method-i-by_col_or_row%21"></a>

				<div class="method-heading">
				
					<span class="method-name">by_col_or_row!</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Switches the mode of this table to mixed mode.  All calls to indexing and
iteration methods will use the default intelligent indexing system until
the mode is changed again.  In mixed mode an index is assumed to be a row
reference while anything else is assumed to be column access by headers.
</p>
<p>
This method returns the table and is safe to chain.
</p>
					

					
					<div class="method-source-code"
						id="by-col-or-row--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 489</span>
489:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_col_or_row!</span>
490:         <span class="ruby-ivar">@mode</span> = <span class="ruby-value">:col_or_row</span>
491: 
492:         <span class="ruby-keyword kw">self</span>
493:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="by-row-method" class="method-detail ">
				<a name="method-i-by_row"></a>

				<div class="method-heading">
				
					<span class="method-name">by_row</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a duplicate table object, in row mode.  This is handy for chaining
in a single call without changing the table mode, but be aware that this
method can consume a fair amount of memory for bigger data sets.
</p>
<p>
This method returns the duplicate table for chaining.  Don&#8217;t chain
destructive methods (like []=()) this way though, since you are working
with a duplicate.
</p>
					

					
					<div class="method-source-code"
						id="by-row-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 504</span>
504:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_row</span>
505:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_row!</span>
506:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="by-row--method" class="method-detail ">
				<a name="method-i-by_row%21"></a>

				<div class="method-heading">
				
					<span class="method-name">by_row!</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Switches the mode of this table to row mode.  All calls to indexing and
iteration methods will work with rows until the mode is changed again.
</p>
<p>
This method returns the table and is safe to chain.
</p>
					

					
					<div class="method-source-code"
						id="by-row--source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 514</span>
514:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">by_row!</span>
515:         <span class="ruby-ivar">@mode</span> = <span class="ruby-value">:row</span>
516: 
517:         <span class="ruby-keyword kw">self</span>
518:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="delete-method" class="method-detail ">
				<a name="method-i-delete"></a>

				<div class="method-heading">
				
					<span class="method-name">delete</span><span
						class="method-args">(index_or_header)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Removes and returns the indicated column or row.  In the default mixed mode
indices refer to rows and everything else is assumed to be a column header.
Use <a href="Table.html#method-i-by_col">by_col</a>!() or <a
href="Table.html#method-i-by_row">by_row</a>!() to force the lookup.
</p>
					

					
					<div class="method-source-code"
						id="delete-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 652</span>
652:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>)
653:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by index</span>
654:            (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
655:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index_or_header</span>)
656:         <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by header</span>
657:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>).<span class="ruby-identifier">last</span> }
658:         <span class="ruby-keyword kw">end</span>
659:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="delete-if-method" class="method-detail ">
				<a name="method-i-delete_if"></a>

				<div class="method-heading">
				
					<span class="method-name">delete_if</span><span
						class="method-args">(&block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Removes any column or row for which the block returns <tt>true</tt>.  In
the default mixed mode or row mode, iteration is the standard row major
walking of rows.  In column mode, interation will <tt>yield</tt> two
element tuples containing the column name and an Array of values for that
column.
</p>
<p>
This method returns the table for chaining.
</p>
					

					
					<div class="method-source-code"
						id="delete-if-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 669</span>
669:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_if</span>(&amp;<span class="ruby-identifier">block</span>)
670:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span>  <span class="ruby-comment cmt"># by index</span>
671:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_if</span>(&amp;<span class="ruby-identifier">block</span>)
672:         <span class="ruby-keyword kw">else</span>                                      <span class="ruby-comment cmt"># by header</span>
673:           <span class="ruby-identifier">to_delete</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
674:           <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">header</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
675:             <span class="ruby-identifier">to_delete</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">header</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>[[<span class="ruby-identifier">header</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">header</span>]]]
676:           <span class="ruby-keyword kw">end</span>
677:           <span class="ruby-identifier">to_delete</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">header</span>) }
678:         <span class="ruby-keyword kw">end</span>
679: 
680:         <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
681:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="each-method" class="method-detail ">
				<a name="method-i-each"></a>

				<div class="method-heading">
				
					<span class="method-name">each</span><span
						class="method-args">(&block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
In the default mixed mode or row mode, iteration is the standard row major
walking of rows.  In column mode, interation will <tt>yield</tt> two
element tuples containing the column name and an Array of values for that
column.
</p>
<p>
This method returns the table for chaining.
</p>
					

					
					<div class="method-source-code"
						id="each-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 692</span>
692:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">block</span>)
693:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col</span>
694:           <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-identifier">block</span>[[<span class="ruby-identifier">header</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">header</span>]]] }
695:         <span class="ruby-keyword kw">else</span>
696:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span>(&amp;<span class="ruby-identifier">block</span>)
697:         <span class="ruby-keyword kw">end</span>
698: 
699:         <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
700:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="headers-method" class="method-detail ">
				<a name="method-i-headers"></a>

				<div class="method-heading">
				
					<span class="method-name">headers</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the headers for the first row of this table (assumed to match all
other rows).  An empty Array is returned for empty tables.
</p>
					

					
					<div class="method-source-code"
						id="headers-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 524</span>
524:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headers</span>
525:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">empty?</span>
526:           <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
527:         <span class="ruby-keyword kw">else</span>
528:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">headers</span>
529:         <span class="ruby-keyword kw">end</span>
530:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="inspect-method" class="method-detail ">
				<a name="method-i-inspect"></a>

				<div class="method-heading">
				
					<span class="method-name">inspect</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="inspect-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 740</span>
740:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
741:         <span class="ruby-node">&quot;#&lt;#{self.class} mode:#{@mode} row_count:#{to_a.size}&gt;&quot;</span>
742:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="push-method" class="method-detail ">
				<a name="method-i-push"></a>

				<div class="method-heading">
				
					<span class="method-name">push</span><span
						class="method-args">(*rows)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
A shortcut for appending multiple rows.  Equivalent to:
</p>
<pre>
  rows.each { |row| self &lt;&lt; row }
</pre>
<p>
This method returns the table for chaining.
</p>
					

					
					<div class="method-source-code"
						id="push-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 641</span>
641:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">push</span>(*<span class="ruby-identifier">rows</span>)
642:         <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span> }
643: 
644:         <span class="ruby-keyword kw">self</span>  <span class="ruby-comment cmt"># for chaining</span>
645:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-a-method" class="method-detail ">
				<a name="method-i-to_a"></a>

				<div class="method-heading">
				
					<span class="method-name">to_a</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the table as an Array of Arrays.  Headers will be the first row,
then all of the field rows will follow.
</p>
					

					
					<div class="method-source-code"
						id="to-a-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 711</span>
711:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
712:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">inject</span>([<span class="ruby-identifier">headers</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">array</span>, <span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
713:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
714:             <span class="ruby-identifier">array</span>
715:           <span class="ruby-keyword kw">else</span>
716:             <span class="ruby-identifier">array</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>]
717:           <span class="ruby-keyword kw">end</span>
718:         <span class="ruby-keyword kw">end</span>
719:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-csv-method" class="method-detail ">
				<a name="method-i-to_csv"></a>

				<div class="method-heading">
				
					<span class="method-name">to_csv</span><span
						class="method-args">(options = Hash.new)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the table as a complete CSV String.  Headers will be listed first,
then all of the field rows.
</p>
<p>
This method assumes you want the <a
href="Table.html#method-i-headers">Table.headers()</a>, unless you
explicitly pass <tt>:write_headers =&gt; false</tt>.
</p>
					

					
					<div class="method-source-code"
						id="to-csv-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 728</span>
728:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>)
729:         <span class="ruby-identifier">wh</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:write_headers</span>, <span class="ruby-keyword kw">true</span>)
730:         <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">wh</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span>)] <span class="ruby-operator">:</span> [ ]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rows</span>, <span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
731:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
732:             <span class="ruby-identifier">rows</span>
733:           <span class="ruby-keyword kw">else</span>
734:             <span class="ruby-identifier">rows</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-identifier">options</span>)]
735:           <span class="ruby-keyword kw">end</span>
736:         <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>
737:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="Table.html#method-i-to_s">to_s</a>
				</div>
				

				
			</div>

		
			<div id="to-s-method" class="method-detail method-alias">
				<a name="method-i-to_s"></a>

				<div class="method-heading">
				
					<span class="method-name">to_s</span><span
						class="method-args">(options = Hash.new)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="Table.html#method-i-to_csv">to_csv</a>
				</div>
				
			</div>

		
			<div id="values-at-method" class="method-detail ">
				<a name="method-i-values_at"></a>

				<div class="method-heading">
				
					<span class="method-name">values_at</span><span
						class="method-args">(*indices_or_headers)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
The mixed mode default is to treat a list of indices as row access,
returning the rows indicated.  Anything else is considered columnar access.
For columnar access, the return set has an Array for each row with the
values indicated by the headers in each Array.  You can force column or row
mode using <a href="Table.html#method-i-by_col">by_col</a>!() or <a
href="Table.html#method-i-by_row">by_row</a>!().
</p>
<p>
You cannot mix column and row access.
</p>
					

					
					<div class="method-source-code"
						id="values-at-source">
<pre>
     <span class="ruby-comment cmt"># File lib/faster_csv.rb, line 603</span>
603:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">indices_or_headers</span>)
604:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-comment cmt"># by indices</span>
605:            ( <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">indices_or_headers</span>.<span class="ruby-identifier">all?</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
606:                                         <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)         <span class="ruby-keyword kw">or</span>
607:                                         ( <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Range</span>)         <span class="ruby-keyword kw">and</span>
608:                                           <span class="ruby-identifier">index</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) <span class="ruby-keyword kw">and</span>
609:                                           <span class="ruby-identifier">index</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) )
610:                                       <span class="ruby-keyword kw">end</span> )
611:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">indices_or_headers</span>)
612:         <span class="ruby-keyword kw">else</span>                 <span class="ruby-comment cmt"># by headers</span>
613:           <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">values_at</span>(*<span class="ruby-identifier">indices_or_headers</span>) }
614:         <span class="ruby-keyword kw">end</span>
615:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

